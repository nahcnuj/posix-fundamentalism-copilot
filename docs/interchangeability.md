# 交換可能性

## 交換可能性とは

POSIX に定義されていない機能（HTTP 接続など）をどうしても利用しなければならない場合、その実装は **交換可能** でなければならない。

交換可能性とは、ある機能を提供する実装を別の同等の実装に入れ替えられることをいう。

例えば HTTP でリソースを取得する機能は、`curl`・`wget` のように同等の機能を持つ複数のツールが存在する。この場合、特定のツールだけに依存するのではなく、それらの間で交換できるよう設計する。

## 原則

- POSIX の範囲外の機能が必要な場合は、同等の機能を持つ複数の実装が存在することを確認する
- 特定の実装（ツール・ライブラリ）への依存を最小限にし、他の実装に切り替えられるよう設計する
- インターフェース（入出力の形式・プロトコル）を明確に定義し、実装の詳細を隠蔽する

## 例

| 機能 | 交換可能な実装の例 |
| ---- | ---------------- |
| HTTP によるリソース取得 | `curl`, `wget` |
| JSON の処理 | `jq`, `python -m json.tool` |
| アーカイブの展開 | `tar`, `unzip`（形式による） |
